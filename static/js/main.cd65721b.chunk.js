(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,a){e.exports=a(154)},151:function(e,t){},154:function(e,t,a){"use strict";a.r(t);var n=a(8),l=a.n(n),i=a(110),r=a.n(i),c=a(111),o=a(112),s=a(121),m=a(113),d=a(87),u=a(122),p=a(162),h=a(164),f=a(119),b=a(161),w=a(115),E=a(116),v=a.n(E),x=a(120);var g=function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"absolute top left w360 h240 py12 px12 ml36 mt36 bg-white round-bold prose"},l.a.createElement("h4",null,"City of Calgary ",l.a.createElement("span",{class:"txt-underline"},"Non-Residential Property Assessment")),l.a.createElement("div",{class:"w300 round shadow-darken10 px6 py6 txt-s mt12"},l.a.createElement("strong",{class:"block mb6"},"Non-Residental Assessment Value"),l.a.createElement("div",{class:"flex-parent flex-parent--center-main flex-parent--center-cross align-center"},l.a.createElement("div",{class:"flex-child flex-child--grow wmin24"},l.a.createElement("span",{class:"inline-block w3 h3 round-full bg-blue"})),l.a.createElement("div",{class:"flex-child flex-child--grow wmin24"},l.a.createElement("span",{class:"inline-block w6 h6 round-full bg-blue"})),l.a.createElement("div",{class:"flex-child flex-child--grow wmin24"},l.a.createElement("span",{class:"inline-block w12 h12 round-full bg-blue"})),l.a.createElement("div",{class:"flex-child flex-child--grow wmin24"},l.a.createElement("span",{class:"inline-block w18 h18 round-full bg-blue"})),l.a.createElement("div",{class:"flex-child flex-child--grow wmin24"},l.a.createElement("span",{class:"inline-block w36 h36 round-full bg-blue"})),l.a.createElement("div",{class:"flex-child flex-child--grow wmin24"},l.a.createElement("span",{class:"inline-block w60 h60 round-full bg-blue"}))),l.a.createElement("div",{class:"grid txt-xs align-center"},l.a.createElement("div",{class:"col wmin24"},"$1 Million"),l.a.createElement("div",{class:"col wmin24"}),l.a.createElement("div",{class:"col wmin24"}),l.a.createElement("div",{class:"col wmin24"}),l.a.createElement("div",{class:"col wmin24"}),l.a.createElement("div",{class:"col wmin24"},"$1 Billion"))),l.a.createElement("div",{class:"txt-s mt12"},l.a.createElement("a",{href:"https://saadiqm.com/deck-gl-assessment-map-re/"},"Link")," to Residental Property assessment map")))},y="pk.eyJ1Ijoic2FhZGlxbSIsImEiOiJjamJpMXcxa3AyMG9zMzNyNmdxNDlneGRvIn0.wjlI8r1S_-xxtq2d-W5qPA",S={longitude:-114.062019,latitude:51.04427,zoom:10.5},k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e)))._onWebGLInitialized=function(e){a.setState({gl:e})},a._onMapLoad=function(){var e=a._map,t=a._deck;e.addLayer(new h.a({id:"assessment-NR",deck:t}),"waterway-label")},a.state={zoom:S.zoom},a._onViewStateChange=a._onViewStateChange.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"_onViewStateChange",value:function(e){var t=e.viewState;this.setState({zoom:t.zoom})}},{key:"_renderLayers",value:function(){var e=this;return[new b.a({id:"assessment-NR",type:b.a,getTileData:function(e){var t=e.x,a=e.y,n=e.z,l="https://a.tiles.mapbox.com/v4/saadiqm.azk20mv4/".concat(n,"/").concat(t,"/").concat(a,".vector.pbf?access_token=").concat(y);return fetch(l).then(function(e){return e.arrayBuffer()}).then(function(e){for(var l=[],i=new w.VectorTile(new v.a(e)).layers.NR,r=0;r<i.length;r++){var c=i.feature(r).toGeoJSON(t,a,n);l.push(c)}return l})},onTileError:function(e){return console.error(e)},maxZoom:14,onHover:function(t){return e.setState({hoveredObject:t.object,pointerX:t.x,pointerY:t.y})},renderSubLayers:function(t){return new x.a(t,{opacity:.5,pickable:!0,getLineWidth:0,radiusScale:Math.pow(2,Math.max(14-e.state.zoom,0)),radiusMinPixels:1,radiusMaxPixels:90,getPosition:function(e){return e.geometry.coordinates},getFillColor:function(e){return[66,135,245]},getRadius:function(e){return Math.sqrt(e.properties.NR_ASSESSED_VALUE)/500}})}})]}},{key:"_renderTooltip",value:function(){var e=this.state||{},t=e.hoveredObject,a=e.pointerX,n=e.pointerY;return t&&l.a.createElement("div",{style:{position:"absolute",zIndex:1,pointerEvents:"none",left:a,top:n},className:"bg-lighten75 py6 px12"},l.a.createElement("p",{className:"txt-bold"},"$"+t.properties.NR_ASSESSED_VALUE.toLocaleString()),l.a.createElement("p",{className:"txt-s"},t.properties.ADDRESS))}},{key:"render",value:function(){var e=this,t=this.state.gl;return l.a.createElement("div",null,l.a.createElement(p.a,{ref:function(t){e._deck=t&&t.deck},layers:this._renderLayers(),initialViewState:S,controller:!0,onWebGLInitialized:this._onWebGLInitialized,onViewStateChange:this._onViewStateChange},t&&l.a.createElement(f.a,{ref:function(t){e._map=t&&t.getMap()},gl:t,mapStyle:"mapbox://styles/saadiqm/cjxbd493m05cc1cl29jntlb1w?optimize=true",mapboxApiAccessToken:y,onLoad:this._onMapLoad}),this._renderTooltip()),l.a.createElement(g,null))}}]),t}(l.a.Component);r.a.render(l.a.createElement(k,null),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.cd65721b.chunk.js.map